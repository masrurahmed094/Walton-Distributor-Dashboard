<div class="sr-table-container">
  <h2>Sales Representative Performance</h2>

  <div *ngIf="sortedData && sortedData.length > 0; else emptyState" class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th (click)="sortBy('userName')">
            Sales Rep Name
            <span *ngIf="sortColumn === 'userName'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="sortBy('userId')">
            User ID
            <span *ngIf="sortColumn === 'userId'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="sortBy('totalInvoicedAmount')">
            Total Invoiced Amount
            <span *ngIf="sortColumn === 'totalInvoicedAmount'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of sortedData">
          <td>{{ item.userName }}</td>
          <td>{{ item.userId }}</td>
          <td>{{ item.totalInvoicedAmount | currency:'BDT':'symbol':'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #emptyState>
    <div class="empty-state">
      <p>No performance data available for this distributor.</p>
    </div>
  </ng-template>
</div>